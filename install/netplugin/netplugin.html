<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <link rel="shortcut icon" href="/assets/images/favicon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <title>Contiv</title>

    <link href="/assets/stylesheets/application-f0d09056.css" rel="stylesheet"/>

    <!--[if lt IE 9]><script src="/assets/javascripts/html5shiv-099439cc.js"></script><script src="/assets/javascripts/respond.min-1eb35b04.js"></script><![endif]-->

    
  </head>

  <body id="page-home" class=" page-home layout-">

<div id="header" class="navbar-static-top">
  <div class="container">
    <div class="row">
      
        <div class="navbar-header">
          <div class="navbar-brand">
            <a href="http://www.cisco.com"><img class="logo" src="/assets/images/cisco-b5d79772.png">
              <a class="logo" href="/">Contiv</a>
            </a>
          </div>
          
        </div>
        <div class="buttons hidden-xs">
          <nav role="navigation">
            <ul class="main-links nav navbar-nav navbar-left">
              <li class="first li-under"><a href="/install/index.html">Documentation</a></li>
              <li class="li-under"><a href="/articles/index.html">Articles</a></li>
              <li class="li-under"><a href="https://github.com/contiv" target="_blank">
                        GitHub
                        <i class="fa fa-github fa-lg"></i>
                        </a></li>
                    <li class="li-under"><a href="https://contiv.slack.com" target="_blank">
                        Slack
                        <i class="fa fa-slack fa-lg"></i>
                        </a></li>
                    <li><a href="https://twitter.com/projectcontiv" target="_blank">
                        Twitter
                        <i class="fa fa-twitter fa-lg"></i>
                        </a></li>
            </ul>
          </nav>
        </div>
      
    </div>
  </div>
</div>


<div class="sidebar-overlay"></div>


<aside id="sidebar" class="sidebar sidebar-default sidebar-fixed-right" role="navigation">
    
    <div class="sidebar-header header-cover">
        
        <div class="sidebar-image">
            <img src="/assets/images/logo-header@2x.png" width="49px" height="56px">
        </div>
    </div>

    
    <ul class="main nav sidebar-nav">
        <li class="first"><a href="/intro/index.html">Intro</a></li>
        <li class=""><a href="/docs/index.html">Docs</a></li>
    </ul>
    <div class="divider"></div>
    
    <ul class="external nav sidebar-nav">
        <li class=""><a class="v-btn gray sml" href="https://github.com/contiv"><svg id="svg-download" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" style="enable-background:new 0 0 14 14;">
  <style>
  </style>
  <path class="" d="M13,0H1C0.5,0,0,0.5,0,1v12c0,0.5,0.5,1,1,1h4.7c0,0,0,0,0-0.1c0-0.2,0-0.6,0-1.1c-1.8,0.4-2.2-0.9-2.2-0.9
    c-0.3-0.8-0.7-1-0.7-1c-0.6-0.4,0-0.4,0-0.4c0.7,0,1,0.7,1,0.7c0.6,1,1.5,0.7,1.9,0.5c0.1-0.4,0.2-0.7,0.4-0.9c-1.5-0.2-3-0.7-3-3.2
    c0-0.7,0.3-1.3,0.7-1.8C3.7,5.8,3.5,5.1,3.9,4.2c0,0,0.6-0.2,1.8,0.7c0.5-0.1,1.1-0.2,1.6-0.2c0.6,0,1.1,0.1,1.6,0.2
    c1.3-0.8,1.8-0.7,1.8-0.7c0.4,0.9,0.1,1.6,0.1,1.7c0.4,0.5,0.7,1,0.7,1.8c0,2.5-1.5,3.1-3,3.2C8.7,11.1,9,11.5,9,12.1
    c0,0.9,0,1.6,0,1.8c0,0,0,0,0,0.1h4c0.5,0,1-0.5,1-1V1C14,0.5,13.5,0,13,0z"/>
</svg>
GitHub</a></li>
    </ul>
</aside>


<p>&lt;!DOCTYPE html&gt;
<html lang="en" class=" is-copy-enabled emoji-size-boost is-u2f-enabled">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'></p>
<pre class="highlight plaintext"><code>&lt;link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-827a4e004aa05724993ea7616e4af53894825443811a270e2b9bce76e3453f19.css" integrity="sha256-gnpOAEqgVySZPqdhbkr1OJSCVEOBGicOK5vOduNFPxk=" media="all" rel="stylesheet" /&gt;
&lt;link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-bb833e04cf4f1db27ddd6e10c10c9f215691cc9754a600001c3a267eed722f0d.css" integrity="sha256-u4M+BM9PHbJ93W4QwQyfIVaRzJdUpgAAHDomfu1yLw0=" media="all" rel="stylesheet" /&gt;





&lt;link as="script" href="https://assets-cdn.github.com/assets/frameworks-72d60952acd3f2189ed13fcf70acbc5c16b27bf17851613d47cd59c3881c3c0a.js" rel="preload" /&gt;

&lt;link as="script" href="https://assets-cdn.github.com/assets/github-107a0ac058804e1408c89e08bc9b34fef425dec48161c650af970ea4adb4c71b.js" rel="preload" /&gt;

&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;meta http-equiv="Content-Language" content="en"&gt;
&lt;meta name="viewport" content="width=device-width"&gt;


&lt;title&gt;docs/3_netplugin.md at master Â· contiv/docs&lt;/title&gt;
&lt;link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub"&gt;
&lt;link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub"&gt;
&lt;link rel="apple-touch-icon" href="/apple-touch-icon.png"&gt;
&lt;link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"&gt;
&lt;link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"&gt;
&lt;link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"&gt;
&lt;link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"&gt;
&lt;link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"&gt;
&lt;link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"&gt;
&lt;link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"&gt;
&lt;link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"&gt;
&lt;link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"&gt;
&lt;meta property="fb:app_id" content="1401488693436528"&gt;

  &lt;meta content="https://avatars1.githubusercontent.com/u/10272443?v=3&amp;amp;s=400" name="twitter:image:src" /&gt;&lt;meta content="@github" name="twitter:site" /&gt;&lt;meta content="summary" name="twitter:card" /&gt;&lt;meta content="contiv/docs" name="twitter:title" /&gt;&lt;meta content="docs - Contiv Documentation" name="twitter:description" /&gt;
  &lt;meta content="https://avatars1.githubusercontent.com/u/10272443?v=3&amp;amp;s=400" property="og:image" /&gt;&lt;meta content="GitHub" property="og:site_name" /&gt;&lt;meta content="object" property="og:type" /&gt;&lt;meta content="contiv/docs" property="og:title" /&gt;&lt;meta content="https://github.com/contiv/docs" property="og:url" /&gt;&lt;meta content="docs - Contiv Documentation" property="og:description" /&gt;
  &lt;meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats"&gt;
&lt;meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors"&gt;
&lt;link rel="assets" href="https://assets-cdn.github.com/"&gt;
&lt;link rel="web-socket" href="wss://live.github.com/_sockets/MTcxNTk5NzE6YmJjM2UzNTQ3ODY0ODY5YzBkYzRmMTIzOGY1Njk5MDc6N2Q0YTFhODNkMTJlYzhiMzMxYTk0YTU0ZGU3MDc1NDA2Y2JjZTE2ODdmNzk0ZGNlYjEyYTE2NzAxZDQ4NjhkNw==--997ffad5f9d7e9dd58e9e432f63e26859540fbff"&gt;
&lt;meta name="pjax-timeout" content="1000"&gt;
&lt;link rel="sudo-modal" href="/sessions/sudo_modal"&gt;

&lt;meta name="msapplication-TileImage" content="/windows-tile.png"&gt;
&lt;meta name="msapplication-TileColor" content="#ffffff"&gt;
&lt;meta name="selected-link" value="repo_source" data-pjax-transient&gt;

&lt;meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU"&gt;
</code></pre>
<p><meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2"></p>
<p><meta content="collector.githubapp.com" name="octolytics-host"/><meta content="github" name="octolytics-app-id"/><meta content="49F1E352:BDCB:4A7F6E:5758BD4D" name="octolytics-dimension-request_id"/><meta content="17159971" name="octolytics-actor-id"/><meta content="pyhung99" name="octolytics-actor-login"/><meta content="5021d7171ebd297c70b032d23388e1b18ca0fc96498a77dffa3d72fcdf198fc8" name="octolytics-actor-hash"/>
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location"/></p>
<p><meta class="js-ga-set" name="dimension1" content="Logged In"></p>
<pre class="highlight plaintext"><code>    &lt;meta name="hostname" content="github.com"&gt;
&lt;meta name="user-login" content="pyhung99"&gt;

    &lt;meta name="expected-hostname" content="github.com"&gt;
  &lt;meta name="js-proxy-site-detection-payload" content="MGFjMjU3NTc1MDVkNTI4NjA4OGQzMDllMzNlNzM0MDhlYzVjNjE0OWE1NzhlMTBmZDhhZjcwODU4ZDg5MWZmN3x7InJlbW90ZV9hZGRyZXNzIjoiNzMuMjQxLjIyNy44MiIsInJlcXVlc3RfaWQiOiI0OUYxRTM1MjpCRENCOjRBN0Y2RTo1NzU4QkQ0RCIsInRpbWVzdGFtcCI6MTQ2NTQzMzQyNX0="&gt;


  &lt;link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#4078c0"&gt;
  &lt;link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico"&gt;

&lt;meta name="html-safe-nonce" content="608fc30079acd0fc75261143b5c5b7d10c9a1c9a"&gt;
&lt;meta content="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" name="form-nonce" /&gt;

&lt;meta http-equiv="x-pjax-version" content="a58ed6f082cbcb17796ef578c93510e9"&gt;
</code></pre>
<p><meta name="description" content="docs - Contiv Documentation">
  <meta name="go-import" content="github.com/contiv/docs git https://github.com/contiv/docs.git"></p>
<p><meta content="10272443" name="octolytics-dimension-user_id"/><meta content="contiv" name="octolytics-dimension-user_login"/><meta content="45858621" name="octolytics-dimension-repository_id"/><meta content="contiv/docs" name="octolytics-dimension-repository_nwo"/><meta content="true" name="octolytics-dimension-repository_public"/><meta content="false" name="octolytics-dimension-repository_is_fork"/><meta content="45858621" name="octolytics-dimension-repository_network_root_id"/><meta content="contiv/docs" name="octolytics-dimension-repository_network_root_nwo"/>
  <link href="https://github.com/contiv/docs/commits/master.atom" rel="alternate" title="Recent Commits to docs:master" type="application/atom+xml"></p>
<pre class="highlight plaintext"><code>  &lt;link rel="canonical" href="https://github.com/contiv/docs/blob/master/source/3_netplugin.md" data-pjax-transient&gt;
</code></pre>
<p></head></p>
<p><body class="logged-in   env-production macintosh vis-public page-blob">
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"></div>
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a></p>
<pre class="highlight plaintext"><code>    &lt;div class="header header-logged-in true" role="banner"&gt;
</code></pre>
<p><div class="container clearfix"></p>
<pre class="highlight plaintext"><code>&lt;a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo"&gt;
</code></pre>
<p><svg aria-hidden="true" class="octicon octicon-mark-github" height="28" version="1.1" viewBox="0 0 16 16" width="28"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a></p>
<pre class="highlight plaintext"><code>    &lt;div class="header-search scoped-search site-scoped-search js-site-search" role="search"&gt;
</code></pre>
<p>&lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/contiv/docs/search" class="js-site-search-form" data-scoped-search-url="/contiv/docs/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
      <div class="header-search-scope">This repository</div>
      <input 
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        tabindex="1"
        autocapitalize="off">
    </label>
</form></div></p>
<pre class="highlight plaintext"><code>  &lt;ul class="header-nav left" role="navigation"&gt;
    &lt;li class="header-nav-item"&gt;
      &lt;a href="/pulls" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls"&gt;
        Pull requests
</code></pre>
<p></a>        </li>
        <li class="header-nav-item">
          <a href="/issues" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
            Issues
</a>        </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://gist.github.com/" data-ga-click="Header, go to gist, text:gist">Gist</a>
          </li>
      </ul></p>
<ul class="header-nav user-nav right" id="user-links">
<p><li class="header-nav-item"></p>
<p></li></p>
<p><li class="header-nav-item dropdown js-menu-container">
<a class="header-nav-link tooltipped tooltipped-s js-menu-target" href="/new"
   aria-label="Create newâ¦"
   data-ga-click="Header, create new, icon:add">
  <svg aria-hidden="true" class="octicon octicon-plus left" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"></path></svg>
  <span class="dropdown-caret"></span>
</a></p>
<div class="dropdown-menu-content js-menu-content">
<p><ul class="dropdown-menu dropdown-menu-sw"></p>
<p><a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
New repository
</a></p>
<p><a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
Import repository
</a></p>
<p><a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
New organization
</a></p>
<div class="dropdown-divider">
</div><p><div class="dropdown-header">
<span title="contiv/docs">This repository</span></p>
</div><p><a class="dropdown-item" href="/contiv/docs/issues/new" data-ga-click="Header, create new issue">
  New issue
</a></p>
<p></ul>
</div>
</li></p>
<p><li class="header-nav-item dropdown js-menu-container">
<a class="header-nav-link name tooltipped tooltipped-sw js-menu-target" href="/pyhung99"
   aria-label="View profile and more"
   data-ga-click="Header, show menu, icon:avatar">
  <img alt="@pyhung99" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/17159971?v=3&amp;s=40" width="20"/>
  <span class="dropdown-caret"></span>
</a></p>
<div class="dropdown-menu-content js-menu-content">
<div class="dropdown-menu  dropdown-menu-sw">
<p><div class=" dropdown-header header-nav-current-user css-truncate">
Signed in as <strong class="css-truncate-target">pyhung99</strong></p>
</div><div class="dropdown-divider">
</div><p><a class="dropdown-item" href="/pyhung99" data-ga-click="Header, go to profile, text:your profile">
    Your profile
  </a>
<a class="dropdown-item" href="/stars" data-ga-click="Header, go to starred repos, text:your stars">
  Your stars
</a>
  <a class="dropdown-item" href="/explore" data-ga-click="Header, go to explore, text:explore">
    Explore
  </a>
  <a class="dropdown-item" href="/integrations" data-ga-click="Header, go to integrations, text:integrations">
    Integrations
  </a>
<a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
  Help
</a></p>
<p><div class="dropdown-divider"></div></p>
<p><a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
    Settings
  </a></p>
<p>&lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/logout" class="logout-form" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/><input name="authenticity_token" type="hidden" value="sAw4pXrg+FB5hnooreX0z3UGatRGzVejWQNwadWW4ur7eyaHR5H1VlSbzM8WGM4QF792jty9+wrYVl+qB3qpUg=="/></div>
    <button class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
      Sign out
    </button>
</form>
</div></p>
</div><p></li></p>
</ul><p></div>
</div></p>
<pre class="highlight plaintext"><code>&lt;div id="start-of-content" class="accessibility-aid"&gt;&lt;/div&gt;

  &lt;div id="js-flash-container"&gt;
</code></pre>
<p></div></p>
<pre class="highlight plaintext"><code>&lt;div role="main" class="main-content"&gt;
    &lt;div itemscope itemtype="http://schema.org/SoftwareSourceCode"&gt;
&lt;div id="js-repo-pjax-container" data-pjax-container&gt;
</code></pre>
<div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
<div class="container repohead-details-container">
<ul class="pagehead-actions">
<p><li>
&lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/><input name="authenticity_token" type="hidden" value="E5F3atW+oVtdA0ntRDs8X7Cb9K9G8z2pAnQOwqGbNDufwJxjEvDbw4r5p7tchO8ZnZjOTwnwkVzbSyBrkzvD7Q=="/></div>      <input class="form-control" id="repository_id" name="repository_id" type="hidden" value="45858621"/></p>
<div class="select-menu js-menu-container js-select-menu">
<p><a href="/contiv/docs/subscription"
class="btn btn-sm btn-with-count select-menu-button js-menu-target" role="button" tabindex="0" aria-haspopup="true"
data-ga-click="Repository, click Watch settings, action:blob#show">
<span class="js-select-button">
<svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
Watch
</span>
</a>
<a class="social-count js-social-count" href="/contiv/docs/watchers">
7
</a></p>
<p><div class="select-menu-modal-holder">
<div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
<div class="select-menu-header js-navigation-enable" tabindex="-1">
<svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
<span class="select-menu-title">Notifications</span></p>
</div><p><div class="select-menu-list js-navigation-container" role="menu"></p>
<pre class="highlight plaintext"><code>&lt;div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0"&gt;
  &lt;svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"&gt;&lt;path d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;div class="select-menu-item-text"&gt;
    &lt;input checked="checked" id="do_included" name="do" type="radio" value="included" /&gt;
    &lt;span class="select-menu-item-heading"&gt;Not watching&lt;/span&gt;
    &lt;span class="description"&gt;Be notified when participating or @mentioned.&lt;/span&gt;
    &lt;span class="js-select-button-text hidden-select-button-text"&gt;
      &lt;svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"&gt;&lt;path d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"&gt;&lt;/path&gt;&lt;/svg&gt;
      Watch
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0"&gt;
  &lt;svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"&gt;&lt;path d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;div class="select-menu-item-text"&gt;
    &lt;input id="do_subscribed" name="do" type="radio" value="subscribed" /&gt;
    &lt;span class="select-menu-item-heading"&gt;Watching&lt;/span&gt;
    &lt;span class="description"&gt;Be notified of all conversations.&lt;/span&gt;
    &lt;span class="js-select-button-text hidden-select-button-text"&gt;
      &lt;svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"&gt;&lt;path d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"&gt;&lt;/path&gt;&lt;/svg&gt;
      Unwatch
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0"&gt;
  &lt;svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"&gt;&lt;path d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;div class="select-menu-item-text"&gt;
    &lt;input id="do_ignore" name="do" type="radio" value="ignore" /&gt;
    &lt;span class="select-menu-item-heading"&gt;Ignoring&lt;/span&gt;
    &lt;span class="description"&gt;Never be notified.&lt;/span&gt;
    &lt;span class="js-select-button-text hidden-select-button-text"&gt;
      &lt;svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"&gt;&lt;path d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"&gt;&lt;/path&gt;&lt;/svg&gt;
      Stop ignoring
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p></div></p>
<p></div>
</div>
</div>
</form>
</li></p>
<p><li></p>
<div class="js-toggler-container js-social-container starring-container ">
<p>&lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/contiv/docs/unstar" class="starred" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/><input name="authenticity_token" type="hidden" value="ZWROmiZPFwng+L6UrbNuItOc0VDxgP4JVJW52HU78HNCkeN9bYoEgGuWKxA2jheK9OBvdCkhEOqW4RNflmErqQ=="/></p>
</div><p><button
class="btn btn-sm btn-with-count js-toggler-target"
aria-label="Unstar this repository" title="Unstar contiv/docs"
data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
<svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
Unstar
</button>
<a class="social-count js-social-count" href="/contiv/docs/stargazers">
5
</a>
</form>
&lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/contiv/docs/star" class="unstarred" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/><input name="authenticity_token" type="hidden" value="SoNjpgamRchUed2Gx39WcNtgI9n7aM0hMB+RW10B+phU841+xL4yWftEROpW6BgKK5hwwRuVouIW8LW5UOCQww=="/></div>
<button
class="btn btn-sm btn-with-count js-toggler-target"
aria-label="Star this repository" title="Star contiv/docs"
data-ga-click="Repository, click star button, action:blob#show; text:Star">
<svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
Star
</button>
<a class="social-count js-social-count" href="/contiv/docs/stargazers">
5
</a>
</form>  </div></p>
<p></li></p>
<p><li>
&lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/contiv/docs/fork" class="btn-with-count" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/><input name="authenticity_token" type="hidden" value="vFk7DuB8hL0PHCxQdT9gKB04eeiRTnLu0IjmVkoNmWaYFQffnK2TN2SaksF1ztPLNO+ZbPZrMlch6MzZTPzq4Q=="/></div>
<button
    type="submit"
    class="btn btn-sm btn-with-count"
    data-ga-click="Repository, show fork modal, action:blob#show; text:Fork"
    title="Fork your own copy of contiv/docs to your account"
    aria-label="Fork your own copy of contiv/docs to your account">
  <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
  Fork
</button>
</form>
<a href="/contiv/docs/network" class="social-count">
5
</a>
</li></p>
</ul><h1 class="public ">
<p><svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
<span class="author" itemprop="author"><a href="/contiv" class="url fn" rel="author">contiv</a></span>&lt;!--
--&gt;<span class="path-divider">/</span>&lt;!--
--&gt;<strong itemprop="name"><a href="/contiv/docs" data-pjax="#js-repo-pjax-container">docs</a></strong></p>
</h1></div><div class="container">
<nav class="reponav js-repo-nav js-sidenav-container-pjax"
itemscope
itemtype="http://schema.org/BreadcrumbList"
role="navigation"
data-pjax="#js-repo-pjax-container">
<p><span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
<a href="/contiv/docs" aria-selected="true" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /contiv/docs" itemprop="url">
<svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
<span itemprop="name">Code</span>
<meta itemprop="position" content="1">
</a>  </span></p>
<p><span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
<a href="/contiv/docs/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /contiv/docs/issues" itemprop="url">
<svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
<span itemprop="name">Issues</span>
<span class="counter">0</span>
<meta itemprop="position" content="2">
</a>    </span></p>
<p><span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
<a href="/contiv/docs/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /contiv/docs/pulls" itemprop="url">
<svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
<span itemprop="name">Pull requests</span>
<span class="counter">0</span>
<meta itemprop="position" content="3">
</a>  </span></p>
<p><a href="/contiv/docs/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /contiv/docs/wiki">
<svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
Wiki
</a></p>
<p><a href="/contiv/docs/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /contiv/docs/pulse">
<svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8z"></path></svg>
Pulse
</a>
<a href="/contiv/docs/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /contiv/docs/graphs">
<svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg>
Graphs
</a></p>
</nav></div></div><div class="container new-discussion-timeline experiment-repo-nav">
<div class="repository-content">
<p><a href="/contiv/docs/blob/d44cdcf2e0aa5cb3537957500d1e56a8689a2947/source/3_netplugin.md" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a></p>

<div class="file-navigation js-zeroclipboard-container">
<p><div class="select-menu branch-select-menu js-menu-container js-select-menu left">
<button class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
title="master"
type="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
<i>Branch:</i>
<span class="js-select-button css-truncate-target">master</span>
</button></p>
<p><div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true"></p>
<p><div class="select-menu-modal">
<div class="select-menu-header">
<svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
<span class="select-menu-title">Switch branches/tags</span></p>
</div><div class="select-menu-filters">
<p><div class="select-menu-text-filter">
<input  aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags"></p>
</div><div class="select-menu-tabs">
<ul>
<p><li class="select-menu-tab">
<a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
</li>
<li class="select-menu-tab">
<a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tagâ¦" class="js-select-menu-tab" role="tab">Tags</a>
</li></p>
</ul></div><p></div></p>
<div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">
<p><div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring"></p>
<p><a class="select-menu-item js-navigation-item js-navigation-open "
 href="/contiv/docs/blob/gh-pages/source/3_netplugin.md"
 data-name="gh-pages"
 data-skip-pjax="true"
 rel="nofollow">
<svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
<span class="select-menu-item-text css-truncate-target js-select-menu-filter-text" title="gh-pages">
  gh-pages
</span>
</a>
<a class="select-menu-item js-navigation-item js-navigation-open selected"
 href="/contiv/docs/blob/master/source/3_netplugin.md"
 data-name="master"
 data-skip-pjax="true"
 rel="nofollow">
<svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
<span class="select-menu-item-text css-truncate-target js-select-menu-filter-text" title="master">
  master
</span>
</a></p>
</div><p><div class="select-menu-no-results">Nothing to show</div>
</div></p>
<div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
<p><div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring"></p>
</div><div class="select-menu-no-results">
<p>Nothing to show</p>
</div><p></div></p>
</div><p></div></p>
</div><p><div class="btn-group right">
    <a href="/contiv/docs/find/master"
          class="js-pjax-capture-input btn btn-sm"
          data-pjax
          data-hotkey="t">
      Find file
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
  </div>
  <div class="breadcrumb js-zeroclipboard-target">
    <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/contiv/docs"><span>docs</span></a></span></span><span class="separator">/</span><span class="js-path-segment"><a href="/contiv/docs/tree/master/source"><span>source</span></a></span><span class="separator">/</span><strong class="final-path">3_netplugin.md</strong>
  </div>
</div></p>
<p><div class="commit-tease">
      <span class="right">
        <a class="commit-tease-sha" href="/contiv/docs/commit/a9d242fe079be51bfa80f062221d2bd44012da2d" data-pjax>
          a9d242f
        </a>
        <relative-time datetime="2016-02-09T21:38:50Z">Feb 9, 2016</relative-time>
      </span>
      <div>
        <img alt="@vvb" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/4341190?v=3&amp;s=40" width="20"/>
        <a href="/vvb" class="user-mention" rel="contributor">vvb</a>
          <a href="/contiv/docs/commit/a9d242fe079be51bfa80f062221d2bd44012da2d" class="message" data-pjax="true" title="netctl rule add=&gt; netctl policy rule-add. action (accept =&gt; allow)">netctl rule add =&gt; netctl policy rule-add. action (accept =&gt; allow)</a>
      </div></p>
<pre class="highlight plaintext"><code>&lt;div class="commit-tease-contributors"&gt;
  &lt;button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box"&gt;
    &lt;strong&gt;3&lt;/strong&gt;
     contributors
  &lt;/button&gt;
      &lt;a class="avatar-link tooltipped tooltipped-s" aria-label="vvb" href="/contiv/docs/commits/master/source/3_netplugin.md?author=vvb"&gt;&lt;img alt="@vvb" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/4341190?v=3&amp;amp;s=40" width="20" /&gt; &lt;/a&gt;
&lt;a class="avatar-link tooltipped tooltipped-s" aria-label="shaleman" href="/contiv/docs/commits/master/source/3_netplugin.md?author=shaleman"&gt;&lt;img alt="@shaleman" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/5446536?v=3&amp;amp;s=40" width="20" /&gt; &lt;/a&gt;
&lt;a class="avatar-link tooltipped tooltipped-s" aria-label="erikh" href="/contiv/docs/commits/master/source/3_netplugin.md?author=erikh"&gt;&lt;img alt="@erikh" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/18923?v=3&amp;amp;s=40" width="20" /&gt; &lt;/a&gt;


&lt;/div&gt;

&lt;div id="blob_contributors_box" style="display:none"&gt;
  &lt;h2 class="facebox-header" data-facebox-id="facebox-header"&gt;Users who have contributed to this file&lt;/h2&gt;
  &lt;ul class="facebox-user-list" data-facebox-id="facebox-description"&gt;
      &lt;li class="facebox-user-list-item"&gt;
        &lt;img alt="@vvb" height="24" src="https://avatars3.githubusercontent.com/u/4341190?v=3&amp;amp;s=48" width="24" /&gt;
        &lt;a href="/vvb"&gt;vvb&lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="facebox-user-list-item"&gt;
        &lt;img alt="@shaleman" height="24" src="https://avatars0.githubusercontent.com/u/5446536?v=3&amp;amp;s=48" width="24" /&gt;
        &lt;a href="/shaleman"&gt;shaleman&lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="facebox-user-list-item"&gt;
        &lt;img alt="@erikh" height="24" src="https://avatars0.githubusercontent.com/u/18923?v=3&amp;amp;s=48" width="24" /&gt;
        &lt;a href="/erikh"&gt;erikh&lt;/a&gt;
      &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<p></div></p>
<div class="file">
<div class="file-header">
<p><div class="file-actions"></p>
<p><div class="btn-group">
<a href="/contiv/docs/raw/master/source/3_netplugin.md" class="btn btn-sm " id="raw-url">Raw</a>
<a href="/contiv/docs/blame/master/source/3_netplugin.md" class="btn btn-sm js-update-url-with-hash">Blame</a>
<a href="/contiv/docs/commits/master/source/3_netplugin.md" class="btn btn-sm " rel="nofollow">History</a></p>
</div><pre class="highlight plaintext"><code>&lt;a class="btn-octicon tooltipped tooltipped-nw"
   href="https://mac.github.com"
   aria-label="Open this file in GitHub Desktop"
   data-ga-click="Repository, open with desktop, type:mac"&gt;
    &lt;svg aria-hidden="true" class="octicon octicon-device-desktop" height="16" version="1.1" viewBox="0 0 16 16" width="16"&gt;&lt;path d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"&gt;&lt;/path&gt;&lt;/svg&gt;
&lt;/a&gt;

&lt;!-- &lt;/textarea&gt; --&gt;&lt;!-- '"` --&gt;&lt;form accept-charset="UTF-8" action="/contiv/docs/edit/master/source/3_netplugin.md" class="inline-form js-update-url-with-hash" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" method="post"&gt;&lt;div style="margin:0;padding:0;display:inline"&gt;&lt;input name="utf8" type="hidden" value="&amp;#x2713;" /&gt;&lt;input name="authenticity_token" type="hidden" value="jUEKqHhEBj2+MDhzz0JFUUNhqFcF3gbLiZ8meaw245qSggCgZy4x7x4ZUa/k/u0hqMu3wKdLdznfq+/qglV9ow==" /&gt;&lt;/div&gt;
  &lt;button class="btn-octicon tooltipped tooltipped-nw" type="submit"
    aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with&gt;
    &lt;svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"&gt;&lt;path d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;/button&gt;
</code></pre>
<p></form>        &lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="/contiv/docs/delete/master/source/3_netplugin.md" class="inline-form" data-form-nonce="3d55bd6b4d1e03e7be68a57bbe92c868180806c1" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/><input name="authenticity_token" type="hidden" value="HDDryaaBThcPYbGjSk+41yX7Wecf0B6XJhUP0VL6Q5NFUZRdwZWQsw2YKyS3WdFSFm4VnhU1GqgzaeojnPeKag=="/></div>
      <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
        aria-label="Fork this project and delete the file" data-disable-with>
        <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"></path></svg>
      </button>
</form>  </div></p>
<div class="file-info">
<p>179 lines (140 sloc)
<span class="file-info-divider"></span>
7.94 KB</p>
</div></div><p><div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-netplugin" class="anchor" href="#netplugin" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>netplugin</h1></p>
<h2>
<p><a id="user-content-about" class="anchor" href="#about" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About</p>
</h2><p>
<p>Contiv netplugin is a generic networking plugin that is designed to provide multi host policy based networking for containerized applications.</p>
</p><p>
<p>Netplugin is designed to be used with docker containers and with cluster schedulers like Swarm, Kubernetes and Mesos</p>
</p><h2>
<p><a id="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting started</p>
</h2><p>
<p>This section will walk you through how to try netplugin in a vagrant environment</p>
</p><h3>
<p><a id="user-content-prerequisits" class="anchor" href="#prerequisits" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisits</p>
</h3><ul>
<p><li>VirtualBox 5.0.2 or greater</li>
<li>Vagrant 1.7.4</li>
<li>Go 1.5.0</li></p>
</ul><h3>
<p><a id="user-content-quick-start-guide" class="anchor" href="#quick-start-guide" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick start guide</p>
</h3><p>
<p>Clone the repo and bring up the VMs</p>
</p><pre>
<p><code>$ git clone <a href="https://github.com/contiv/netplugin">https://github.com/contiv/netplugin</a>
$ cd netplugin; make demo
$ vagrant ssh netplugin-node1
</code></p>
</pre><p>
<p>This brings up a cluster of two VMs running docker and netplugin</p>
</p><h4>
<p><a id="user-content-step-1-create-a-network" class="anchor" href="#step-1-create-a-network" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Create a network</p>
</h4><pre>
<p><code>netplugin-node1$ netctl net create contiv-net --subnet=20.1.1.0/24 --gateway=20.1.1.254 --pkt-tag=1001
</code></p>
</pre><h4>
<p><a id="user-content-step-2-run-containers-on-two-hosts" class="anchor" href="#step-2-run-containers-on-two-hosts" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Run containers on two hosts</p>
</h4><p>
<p>On node1</p>
</p><pre>
<p><code>netplugin-node1$ docker run -itd --name=web --net=contiv-net ubuntu /bin/bash
</code></p>
</pre><p>
<p>On node2</p>
</p><pre>
<p><code>netplugin-node2$ docker run -itd --name=db --net=contiv-net ubuntu /bin/bash
</code></p>
</pre><p>
<p>On node1, login to the container and ping the container on node2</p>
</p><pre>
<p><code>netplugin-node1$ docker exec -it web /bin/bash
&lt; inside the container &gt;
root@f90e7fd409c4:/# ping db
PING db (20.1.1.3) 56(84) bytes of data.
64 bytes from db (20.1.1.3): icmp_seq=1 ttl=64 time=0.658 ms
64 bytes from db (20.1.1.3): icmp_seq=2 ttl=64 time=0.103 ms
</code></p>
</pre><h2>
<p><a id="user-content-architecture" class="anchor" href="#architecture" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Architecture</p>
</h2><h4>
<p><a id="user-content-glossary" class="anchor" href="#glossary" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Glossary</p>
</h4><ul>
<p><li><em>Netmaster</em>: Netmaster is the master daemon that is responsible for storing the Intent and distributing state to all nodes in the cluster.</li>
<li><em>Netplugin</em>: Netplugin is a long running daemon on every node in the cluster. As a docker network plugin, it is responsible for setting up network and policy for each container.</li>
<li> <em>Netctl</em>: netctl is a command line tool to moidfy the intent.</li></p>
</ul><h4>
<p><a id="user-content-netplugin-architecture" class="anchor" href="#netplugin-architecture" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Netplugin architecture</p>
</h4><p>
<p><a href="/contiv/docs/blob/master/source/netplugin-arch.jpg" target="_blank"><img src="/contiv/docs/raw/master/source/netplugin-arch.jpg" alt="Architecture" style="max-width:100%;"></a></p>
</p><h3>
<p><a id="user-content-contiv-object-model" class="anchor" href="#contiv-object-model" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contiv object model</p>
</h3><p>
<p>Contiv object model provides a way for users to specify their Intent. Netmaster provides a REST api to view and modify contiv object model. Netctl commandline tool is a convinient utility to interact with the object model</p>
</p><p>
<p><a href="/contiv/docs/blob/master/source/contivModel.png" target="_blank"><img src="/contiv/docs/raw/master/source/contivModel.png" alt="Object model" style="max-width:100%;"></a></p>
</p><p>
<p>From networking perspective, objects of interest are tenant, network, endpoint-group, policy and rules.</p>
</p><h4>
<p><a id="user-content-tenant" class="anchor" href="#tenant" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tenant</p>
</h4><p>
<p>Tenant is the top level object that represents a tenant in a multi tenant environment. It could be an organization, a business unit or a project. Anything that requires complete isolation between its networks would be considered a tenant.</p>
</p><h4>
<p><a id="user-content-network" class="anchor" href="#network" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Network</p>
</h4><p>
<p>Network represents an L3 network similar to a virtual private cloud or a VRF. Contiv networks are large L3 domains where packets are routed by IP address without any ARP broadcasting.</p>
</p><h4>
<p><a id="user-content-endpoint-group" class="anchor" href="#endpoint-group" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Endpoint group</p>
</h4><p>
<p>Endpoint groups are an arbitrary grouping of containers which belong to same policy domain. An endpoint group generally represents a microservice, a tier in an application stack or set of containers belonging to same framework or job.</p>
</p><h4>
<p><a id="user-content-policy" class="anchor" href="#policy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Policy</p>
</h4><p>
<p>Policy represents a network security policy that can be applied to an endpoint group. Policy contains a list of rules.</p>
</p><h4>
<p><a id="user-content-rule" class="anchor" href="#rule" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rule</p>
</h4><p>
<p>Rule is made up of match conditions(IP address, port, network, endpoint groups) and action(allow or deny). Rules are generally stateful. For example, &quot;deny incoming tcp&quot; denies all incoming TCP connections not packets. Incoming TCP packet for an already established connection will be allowed.</p>
</p><h2>
<p><a id="user-content-using-policies" class="anchor" href="#using-policies" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Policies</p>
</h2><p>
<p>Using policies with containers requires (1) creating a policy (2) adding rules to a policy (3) creating an endpoint group (4) attaching containers to the endpoint group. Lets walk thorough each of these steps.</p>
</p><h4>
<p><a id="user-content-step1-create-a-policy" class="anchor" href="#step1-create-a-policy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step1: Create a policy</p>
</h4><p>
<p>Following creates a policy named <code>prod_web</code></p>
</p><pre>
<p><code>$ netctl policy create prod_web
</code></p>
</pre><h4>
<p><a id="user-content-step-2-add-rules-to-the-policy" class="anchor" href="#step-2-add-rules-to-the-policy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Add rules to the policy</p>
</h4><p>
<p>Following adds a default-deny rule to drop all incoming TCP connections and two specific rules to allow traffic on port 80 and 443</p>
</p><pre>
<p><code>$ netctl policy rule-add prod_web 1 -direction=in -protocol=tcp -action=deny
$ netctl policy rule-add prod_web 2 -direction=in -protocol=tcp -port=80 -action=allow -priority=10
$ netctl policy rule-add prod_web 3 -direction=in -protocol=tcp -port=443 -action=allow -priority=10
</code></p>
</pre><h4>
<p><a id="user-content-step-3-create-an-endpoint-group" class="anchor" href="#step-3-create-an-endpoint-group" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Create an endpoint group</p>
</h4><p>
<p>Following command creates an endpoint group named <code>web</code> in network <code>contiv-net</code> and attaches <code>prod_web</code> policy to it</p>
</p><pre>
<p><code>$ netctl group create contiv-net web -policy=prod_web
</code></p>
</pre><p>
<p><em>Note</em>: Each endpoint group will create a seperate docker network of the form . You can attach containers to these endpoint groups using <code>--net</code> option in <code>docker run</code> command</p>
</p><h4>
<p><a id="user-content-step-4-run-a-container-and-attach-it-to-the-endpoint-group" class="anchor" href="#step-4-run-a-container-and-attach-it-to-the-endpoint-group" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 4: Run a container and attach it to the endpoint group</p>
</h4><p>
<p>Following runs a docker container and attaches it to <code>web</code> endpoint group in <code>contiv-net</code> network</p>
</p><pre>
<p><code>$ docker run -itd --net web.contiv-net ubuntu bash
</code></p>
</pre><h2>
<p><a id="user-content-using-netplugin-with-docker-swarm" class="anchor" href="#using-netplugin-with-docker-swarm" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Netplugin with Docker Swarm</p>
</h2><p>
<p>Docker Swarm is a scheduler that schedules containers to multiple hosts. Netplugin is a docker network plugin that provides multi host networking.</p>
</p><p>
<p>Docker + Swarm + Netplugin == Awesome!!</p>
</p><h3>
<p><a id="user-content-using-swarm" class="anchor" href="#using-swarm" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using swarm</p>
</h3><p>
<p>Netplugin vagrant setup comes pre-installed with docker swarm.
Set the following environment variable to make docker client talk to Swarm</p>
</p><pre>
<p><code>export DOCKER_HOST=tcp://192.168.2.10:2375
</code></p>
</pre><p>
<p>Now, you should be able to see the information about the swarm cluster</p>
</p><pre>
<p><code>$ docker info
Containers: 0
Images: 5
Engine Version:
Role: primary
Strategy: spread
Filters: affinity, health, constraint, port, dependency
Nodes: 2
netplugin-node1: 192.168.2.10:2385
â Containers: 0
â Reserved CPUs: 0 / 4
â Reserved Memory: 0 B / 2.051 GiB
â Labels: executiondriver=native-0.2, kernelversion=4.0.0-040000-generic, operatingsystem=Ubuntu 15.04, storagedriver=devicemapper
netplugin-node2: 192.168.2.11:2385
â Containers: 0
â Reserved CPUs: 0 / 4
â Reserved Memory: 0 B / 2.051 GiB
â Labels: executiondriver=native-0.2, kernelversion=4.0.0-040000-generic, operatingsystem=Ubuntu 15.04, storagedriver=devicemapper
CPUs: 8
Total Memory: 4.103 GiB
Name: netplugin-node1
No Proxy: 192.168.0.0/16,localhost,127.0.0.0/8
</code></p>
</pre><p>
<p>Next, you can see if there are any containers running in the cluster</p>
</p><pre>
<p><code>$ docker ps
CONTAINER ID        IMAGE                          COMMAND             CREATED             STATUS              PORTS               NAMES
4dd09bc36875        ubuntu                         &quot;bash&quot;              52 minutes ago      Up 52 minutes                           netplugin-node1/reverent_allen
18bdc2cde778        skynetservices/skydns:latest   &quot;/skydns&quot;           3 hours ago         Up 3 hours          53/udp, 53/tcp      netplugin-node1/defaultdns</p>
<p></code></p>
</pre><p>
<p>You can run containers and attach them to contiv networks or endpoint groups just like before.</p>
</p><pre>
<p><code>$ docker run -itd --net web.contiv-net ubuntu bash
f291e269b45a5877f6fc952317feb329e12a99bda3a44a740b4c3307ef87954c
</code></p>
</pre><p>
<p>Here, <code>docker run</code> happens against the swarm cluster. Swarm schedules the container to one of the nodes and netplugin on that node sets up the networking and policies just like before.</p>
</p><h2>
<p><a id="user-content-service-discovery" class="anchor" href="#service-discovery" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Service discovery</p>
</h2><p>
<p>Contiv network provides built in service discovery for all containers in the network. Unlike traditional service discovery tools which require applications to query external KV stores for container IP/port information, contiv service discovery uses standard DNS protocol and requires no changes to the application.</p>
</p><p>
<p>When a container is attached to an endpoint group, it automatically becomes reachable by DNS service name. In the example above, we ran a container and attached it to <code>web</code> endpoint group. This container becomes available by DNS name <code>web</code> for all other containers in the same network. It would be available as <code>web.contiv-net</code> for all containers in other networks within the same tenant. If there are multiple containers in same endpoint group, all of them would be available by same DNS service name. DNS queries will be load balanced across all containers in the group.</p>
</p><h2>
<p><a id="user-content-multi-tenancy" class="anchor" href="#multi-tenancy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multi tenancy</p>
</h2><h2>
<p><a id="user-content-using-netplugin-on-baremetal-servers" class="anchor" href="#using-netplugin-on-baremetal-servers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Netplugin on baremetal servers</p>
</h2><h2>
<p><a id="user-content-using-netplugin-with-kubernetes" class="anchor" href="#using-netplugin-with-kubernetes" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Netplugin with Kubernetes</p>
</h2><h2>
<p><a id="user-content-working-with-cisco-aci" class="anchor" href="#working-with-cisco-aci" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Working with Cisco ACI</p>
</h2><p></article>
  </div></p>
<p></div></p>
<p><button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="hidden">Jump to Line</button>
<div id="jump-to-line" style="display:none">
  &lt;!-- </textarea> --&gt;&lt;!-- &#39;&quot;` --&gt;<form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;"/></div>
    <input class="form-control linejump-input js-jump-to-line-field"  placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
    <button type="submit" class="btn">Go</button>
</form></div></p>
<p></div>
  <div class="modal-backdrop"></div>
</div></p>
<pre class="highlight plaintext"><code>&lt;/div&gt;
</code></pre>
<p></div></p>
<pre class="highlight plaintext"><code>&lt;/div&gt;

    &lt;div class="container site-footer-container"&gt;
</code></pre>
<p><div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li></p>
<pre class="highlight plaintext"><code>&lt;/ul&gt;

&lt;a href="https://github.com" aria-label="Homepage" class="site-footer-mark" title="GitHub"&gt;
  &lt;svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"&gt;&lt;path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"&gt;&lt;/path&gt;&lt;/svg&gt;
</code></pre>
<p></a>
    <ul class="site-footer-links">
      <li>&copy; 2016 <span title="0.09003s from github-fe132-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div></p>
<pre class="highlight plaintext"><code>&lt;div id="ajax-error-message" class="ajax-error-message flash flash-error"&gt;
  &lt;svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"&gt;&lt;path d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error"&gt;
    &lt;svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"&gt;&lt;path d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;/button&gt;
  Something went wrong with that request. Please try again.
&lt;/div&gt;



  &lt;script crossorigin="anonymous" integrity="sha256-ctYJUqzT8hie0T/PcKy8XBaye/F4UWE9R81Zw4gcPAo=" src="https://assets-cdn.github.com/assets/frameworks-72d60952acd3f2189ed13fcf70acbc5c16b27bf17851613d47cd59c3881c3c0a.js"&gt;&lt;/script&gt;
  &lt;script async="async" crossorigin="anonymous" integrity="sha256-EHoKwFiAThQIyJ4IvJs0/vQl3sSBYcZQr5cOpK20xxs=" src="https://assets-cdn.github.com/assets/github-107a0ac058804e1408c89e08bc9b34fef425dec48161c650af970ea4adb4c71b.js"&gt;&lt;/script&gt;






&lt;div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner hidden"&gt;
  &lt;svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"&gt;&lt;path d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"&gt;&lt;/path&gt;&lt;/svg&gt;
  &lt;span class="signed-in-tab-flash"&gt;You signed in with another tab or window. &lt;a href=""&gt;Reload&lt;/a&gt; to refresh your session.&lt;/span&gt;
  &lt;span class="signed-out-tab-flash"&gt;You signed out in another tab or window. &lt;a href=""&gt;Reload&lt;/a&gt; to refresh your session.&lt;/span&gt;
&lt;/div&gt;
&lt;div class="facebox" id="facebox" style="display:none;"&gt;
</code></pre>
<p><div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
  </div>
</div></p>
<p></body>
</html></p>