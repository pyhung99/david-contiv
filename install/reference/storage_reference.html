<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Storage API">

    <link rel="shortcut icon" href="/assets/images/favicon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <title>Contiv Storage CLI - Contiv</title>

    <link href="/assets/stylesheets/application-f0d09056.css" rel="stylesheet"/>

    <!--[if lt IE 9]><script src="/assets/javascripts/html5shiv-099439cc.js"></script><script src="/assets/javascripts/respond.min-1eb35b04.js"></script><![endif]-->

    
  </head>

  <body id="page-Contiv Storage CLI" class=" page-Contiv Storage CLI layout-install page-sub">

<div id="header" class="navbar-static-top">
  <div class="container">
    <div class="row">
      
        <div class="navbar-header">
          <div class="navbar-brand">
            <a href="http://www.cisco.com"><img class="logo" src="/assets/images/cisco-b5d79772.png">
              <a class="logo" href="/">Contiv</a>
            </a>
          </div>
          
        </div>
        <div class="buttons hidden-xs">
          <nav role="navigation">
            <ul class="main-links nav navbar-nav navbar-left">
              <li class="first li-under"><a href="/install/index.html">Documentation</a></li>
              <li class="li-under"><a href="/articles/index.html">Articles</a></li>
              <li class="li-under"><a href="https://github.com/contiv" target="_blank">
                        GitHub
                        <i class="fa fa-github fa-lg"></i>
                        </a></li>
                    <li class="li-under"><a href="https://contiv.slack.com" target="_blank">
                        Slack
                        <i class="fa fa-slack fa-lg"></i>
                        </a></li>
                    <li><a href="https://twitter.com/projectcontiv" target="_blank">
                        Twitter
                        <i class="fa fa-twitter fa-lg"></i>
                        </a></li>
            </ul>
          </nav>
        </div>
      
    </div>
  </div>
</div>


<div class="sidebar-overlay"></div>


<aside id="sidebar" class="sidebar sidebar-default sidebar-fixed-right" role="navigation">
    
    <div class="sidebar-header header-cover">
        
        <div class="sidebar-image">
            <img src="/assets/images/logo-header@2x.png" width="49px" height="56px">
        </div>
    </div>

    
    <ul class="main nav sidebar-nav">
        <li class="first"><a href="/intro/index.html">Intro</a></li>
        <li class=""><a href="/docs/index.html">Docs</a></li>
    </ul>
    <div class="divider"></div>
    
    <ul class="external nav sidebar-nav">
        <li class=""><a class="v-btn gray sml" href="https://github.com/contiv"><svg id="svg-download" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" style="enable-background:new 0 0 14 14;">
  <style>
  </style>
  <path class="" d="M13,0H1C0.5,0,0,0.5,0,1v12c0,0.5,0.5,1,1,1h4.7c0,0,0,0,0-0.1c0-0.2,0-0.6,0-1.1c-1.8,0.4-2.2-0.9-2.2-0.9
    c-0.3-0.8-0.7-1-0.7-1c-0.6-0.4,0-0.4,0-0.4c0.7,0,1,0.7,1,0.7c0.6,1,1.5,0.7,1.9,0.5c0.1-0.4,0.2-0.7,0.4-0.9c-1.5-0.2-3-0.7-3-3.2
    c0-0.7,0.3-1.3,0.7-1.8C3.7,5.8,3.5,5.1,3.9,4.2c0,0,0.6-0.2,1.8,0.7c0.5-0.1,1.1-0.2,1.6-0.2c0.6,0,1.1,0.1,1.6,0.2
    c1.3-0.8,1.8-0.7,1.8-0.7c0.4,0.9,0.1,1.6,0.1,1.7c0.4,0.5,0.7,1,0.7,1.8c0,2.5-1.5,3.1-3,3.2C8.7,11.1,9,11.5,9,12.1
    c0,0.9,0,1.6,0,1.8c0,0,0,0,0,0.1h4c0.5,0,1-0.5,1-1V1C14,0.5,13.5,0,13,0z"/>
</svg>
GitHub</a></li>
    </ul>
</aside>


<div class="container">
	<div class="row">
		<div class="col-md-3 col-sm-3 col-xs-12">
					<div class="docs-sidebar hidden-print affix-top" role="complementary">
			<hr>
			<h3>User Guide</h3>
			<ul class="nav docs-sidenav">
				<li>
					<a data-toggle="collapse" href="#collapse100" href="/install/user_guides/getting_started/index.html">Getting Started</a>
				<div id="collapse100" class="panel-collapse collapse">

					<ul class="nav nav-visible">
						<li>
							<a href="/install/user_guides/getting_started/community_talks/index.html">Talks and Demonstrations</a>
						</li>
						<li>
							<a data-toggle="collapse" href="#collapse110" href="/install/user_guides/getting_started/networking/index.html">Networking</a>
									<div id="collapse110" class="panel-collapse collapse">
										<ul>
											<li>
													<a href="/install/user_guides/getting_started/networking/vagrant.html">Development Setup with Vagrant</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/mcast.html">Multicast Demonstration</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/basic_server_setup.html">Basic Server Setup</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/swarm.html">Docker Swarm</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/k8s.html">Kubernetes</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/mesos.html">Mesos</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/nomad.html">Nomad</a>
											</li>
											<li>
													<a href="/install/user_guides/getting_started/networking/bgp.html">BGP</a>
											</li>
										</ul>
									</div>

						</li>
						<li>
							<a data-toggle="collapse" href="#collapse120" href="/install/user_guides/getting_started/network_topologies/index.html">Network Topologies</a>
							<div id="collapse120" class="panel-collapse collapse">
								<ul class="nav">
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/native_routed.html">Native Routing</a>
									</li>
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/native_bridged.html">Native Bridging</a>
									</li>
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/openstack.html">Openstack Deployment</a>
									</li>
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/cloud.html">Cloud Deployment</a>
									</li>
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/vagrant.html">Vagrant Setup</a>
									</li>
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/networking101.html">Containers Networking Tutorial</a>
									</li>
									<li>
										<a href="/install/user_guides/getting_started/network_topologies/bgp.html">BGP</a>
									</li>
								</ul>
							</div>
						</li>
						<li>
							<a data-toggle="collapse" href="#collapse130" href="/install/user_guides/getting_started/storage/index.html">Storage </a>
							<div id="collapse130" class="panel-collapse collapse">
								<ul class="nav">
									<li><a href="/install/user_guides/getting_started/storage/swarm.html">Docker Swarm</a></li>
								</ul>
							</div>
						</li>
						<li>
							<a data-toggle="collapse" href="#collapse140" href="/install/user_guides/getting_started/storage_systems/index.html">Storage Systems</a>
							<div id="collapse140" class="panel-collapse collapse">
								<ul class="nav">
									<li><a href="/install/user_guides/getting_started/storage_systems/ceph.html">Ceph</a></li>
									<li><a href="/install/user_guides/getting_started/storage_systems/nfs.html">NFS</a></li>
								</ul>
							</div>
						</li>
					</ul>
				</div>
				</li>
				<li><a data-toggle="collapse" href="#collapse200" href="/install/user_guides/networking/index.html">Networking</a>
					<div id="collapse200" class="panel-collapse collapse">
						<ul class="nav nav-visible">
							<li><a href="/install/user_guides/networking/concepts.html">Terminology</a></li>
							<li><a href="/install/user_guides/networking/networks.html">Networks</a></li>
							<li><a href="/install/user_guides/networking/tenants.html">Tenants</a></li>
							<li><a href="/install/user_guides/networking/policies.html">Policies</a></li>
							<li><a href="/install/user_guides/networking/external_connectivity.html">External Connectivity</a></li>
							<li><a href="/install/user_guides/networking/service_discovery.html">Service Discovery</a></li>
							<li><a href="/install/user_guides/networking/ipam.html">IP Address Management</a></li>
							<li> <a href="/install/user_guides/networking/hybrid_workloads.html">Hybrid Workloads</a></li>
						</ul>
					</div>
				</li>
				<li><a data-toggle="collapse" href="#collapse300" href="/install/user_guides/storage/index.html">Storage</a>
					<div id="collapse300" class="panel-collapse collapse">
						<ul class="nav nav-visible">
							<li><a href="/install/user_guides/storage/concepts.html">Terminology</a></li>
							<li><a data-toggle="collapse" href="#collapse320" href="/install/user_guides/storage/policies/index.html">Policies</a></li>
								<div id="collapse320" class="panel-collapse collapse">
									<ul class="nav nav-visible">
										<li>
											<a href="/install/user_guides/storage/policies/allocation.html">Allocation</a></li>
										<li>
											<a href="/install/user_guides/storage/policies/rate_limiting.html">IOPs Rate Limiting</a></li>
										<li>
											<a href="/install/user_guides/storage/policies/snapshots.html">Snapshots</a></li>
										<li>
											<a href="/install/user_guides/storage/policies/filesystem.html">FileSystem</a></li>
									</ul>
								</div>
							<li><a href="/install/user_guides/storage/ceph.html">Ceph</a></li>
							<li><a href="/install/user_guides/storage/nfs.html">NFS</a></li>
						</ul>
					</div>
				</li>
				<li>
					<a data-toggle="collapse" href="#collapse400" href="/install/user_guides/cluster/index.html">Cluster</a>
					<div id="collapse400" class="panel-collapse collapse">
						<ul class="nav">
								<li><a href="/install/user_guides/cluster/concepts.html">Terminology</a></li>
								<li><a href="/install/user_guides/cluster/discovery.html">Discovery</a></li>
								<li><a href="/install/user_guides/cluster/commissioning.html">Commissioning and Decommissioning</a></li>
						</ul>
					</div>
				</li>
				<hr><p>
				<h3>Reference</h3>
					<ul class="nav nav-visible">
						<li><a href="https://godoc.org/github.com/contiv/netplugin">Network API Reference</a><br></li>
						<li class="active"><a href="https://godoc.org/github.com/contiv/contivmodel/client">Storage API Reference</a><br></li>
						<li><a href="https://godoc.org/github.com/contiv/cluster">Cluster API Reference</a><br></li>
					</ul>
				<hr><p>
				<h3>Examples</h3>
					<ul class="nav nav-visible">
						<li><a href="/install/samples/index.html">Example Use Cases</a><br></li>
					</ul>
				<hr><p>

				</li>
			</ul>
		</div>

		</div>  
		<div id="main-content" class="col-sm-9 col-md-9 col-xs-12" role="main">
			<div class="bs-docs-section">
				
	<h2>Contiv Storage Command Line Reference</h2>
<p>The <code>volcli</code> command controls the <code>volmaster</code>, which in turn is referenced by <code>volplugin</code> for local management of storage.</p>

<h2>Top-Level Commands</h2>
<p>The following top-level subcommands specify the scope of CRUD operations specified by lower-level subcommands:</p>

<ul>
<li><a name="volcli_global"/><a href="#volcli_global"><code>volcli global</code></a> manipulates global configuration.
</li>
<li><a name="volcli_policy"/><a href="#volcli_policy"><code>volcli policy</code></a> manipulates policy configuration.
</li>
<li><a name="volcli_volume"/><a href="#volcli_volume"><code>volcli volume</code></a> manipulates volumes.
</li>
<li><a name="volcli_mount"/><a href="#volcli_mount"><code>volcli mount</code></a> manipulates mounts.
</li>
<li><a name="volcli_help"/><a href="#volcli_help"><code>volcli help</code></a> prints the help. For each subcommand, <code>volcli help [subcommand]</code> prints the help for that command. For multi-level commands, use <code>volcli [subcommand] help [subcommand]</code>. Appending <code>--help</code> to any command displays the help as well.
</li>
</ul>

<h2>Global Commands</h2>

<ul>
<li><a name="volcli_global_upload"/><a href="#volcli_global_upload"><code>volcli global upload</code></a> takes JSON global configuration from the standard input.
</li>
<li><a name="volcli_global_get"/><a href="#volcli_global_get"><code>volcli global get</code></a> retrieves the JSON global configuration.
</li>
</ul>

<h2>Tenant Commands</h2>
<p>Typing <code>volcli policy</code> without arguments will print help for these commands.</p>

<ul>
<li><a name="volcli_policy_upload"/><a href="#volcli_policy_upload"><code>volcli policy upload</code></a> takes a policy name, and JSON configuration from standard input.
</li>
<li><a name="volcli_policy_delete"/><a href="#volcli_policy_delete"><code>volcli policy delete</code></a> removes a policy. Its volumes and mounts will not be removed.
</li>
<li><a name="volcli_policy_get"/><a href="#volcli_policy_get"><code>volcli policy get</code></a> displays the JSON configuration for a policy.
</li>
<li><a name="volcli_policy_list"/><a href="#volcli_policy_list"><code>volcli policy list</code></a> lists the policies etcd knows about.
</li>
</ul>

<h2>Volume Commands</h2>
<p>Typing <code>volcli volume</code> without arguments will print help for these commands.</p>

<ul>
<li><a name="volcli_volume_create"/><a href="#volcli_volume_create"><code>volcli volume create</code></a> will forcefully create a volume just like it was created with <code>docker volume create</code>. Requires a policy, and volume name.
</li>
<li><a name="volcli_volume_get"/><a href="#volcli_volume_get"><code>volcli volume get</code></a> will retrieve the volume configuration for a given policy/volume combination.
</li>
<li><a name="volcli_volume_list"/><a href="#volcli_volume_list"><code>volcli volume list</code></a> will list all the volumes for a provided policy.
</li>
<li><a name="volcli_volume_list_all"/><a href="#volcli_volume_list_all"><code>volcli volume list-all</code></a> will list all volumes, across policies.
</li>
<li><a name="volcli_volume_remove"/><a href="#volcli_volume_remove"><code>volcli volume remove</code></a> will remove a volume given a policy/volume combination, deleting the underlying data.  This operation may fail if the device is mounted, or expected to be mounted.
</li>
<li><a name="volcli_volume_force_remove"/><a href="#volcli_volume_force_remove"><code>volcli volume force-remove</code></a>, given a policy/volume combination, will remove the data from etcd but not perform any other operations. Use this option with caution.
</li>
<li><a name="volcli_volume_runtime_get"/><a href="#volcli_volume_runtime_get"><code>volcli volume runtime get</code></a> will retrieve the runtime policy for a given volume
</li>
<li><a name="volcli_volume_runtime_upload"/><a href="#volcli_volume_runtime_upload"><code>volcli volume runtime upload</code></a> will upload (via stdin) the runtime policy for a given volume
</li>
</ul>

<h2>Mount Commands</h2>
<p>Typing <code>volcli mount</code> without arguments will print help for these commands.</p>
<p><strong>Note:</strong> <code>volcli mount</code> cannot control mounts -- this is managed by <code>volplugin</code> which lives on each host. Eventually there will be support for pushing operations down to the volplugin, but not yet.</p>

<ul>
<li><a name="volcli_mount_list"/><a href="#volcli_mount_list"><code>volcli mount list</code></a> lists all known mounts in etcd.
</li>
<li><a name="volcli_mount_get"/><a href="#volcli_mount_get"><code>volcli mount get</code></a> obtains specific information about a mount from etcd.
</li>
<li><a name="volcli_mount_force_remove"/><a href="#volcli_mount_force_remove"><code>volcli mount force-remove</code></a> removes the contents from etcd, but does not attempt to perform any unmounting. This is useful for removing mounts that for some reason (e.g., host failure, which is not currently satsified by volplugin)
</li>
</ul>

<h2>Use Commands</h2>
<p>Use commands control the locking system and also provide information about what is being used by what. Use these commands with caution as they can affect the stability of the cluster if used improperly.</p>

<ul>
<li><a name="volcli_use_list"/><a href="#volcli_use_list"><code>volcli use list</code></a> will list all uses (mounts, snapshots) in effect.
</li>
<li><a name="volcli_use_get"/><a href="#volcli_use_get"><code>volcli use get</code></a> will get information on a specific use lock.
</li>
<li><a name="volcli_use_force_remove"/><a href="#volcli_use_force_remove"><code>volcli use force-remove</code></a> will force a lock open for a given volume.
</li>
<li><a name="volcli_use_exec"/><a href="#volcli_use_exec"><code>volcli use exec</code></a> will wait for a lock to free, then execute hte command.
</li>
</ul>


			</div>
		</div>
	</div>
</div>