---
layout: "install"
page_title: "Install Netplugin"
sidebar_current: "getting-started-install"
description: |-
  Installing netplugin.
---

## Contiv Networking on Linux Nodes or VMs

### Prerequisites
- Install Ubuntu 15 or Centos 7 on each of your servers used for the Contiv cluster.
- If your servers are behind an http proxy, set the following environment variables to expose the proxy:  

```
export http_proxy=<proxy url>   
export https_proxy=<proxy_url>
```   
   
- Select one server on which to run the installation for all servers in the cluster.
   Do not run install from multiple servers. 

- (Optional but strongly recommended) Enable passwordless SSH access from the selected server to all the other servers in the cluster.
   An example is [here](http://www.linuxproblem.org/art_9.html).

- (Optional but strtongly recommended) Enable passwordless sudo on all servers.
   An example is [here](http://askubuntu.com/questions/192050/how-to-run-sudo-command-with-no-password).

- Make a note of the IP addresses (or DNS names) of all the servers, and of the network interfaces on which these IP addresses are configured.

### Step 1: Download the installer script.
Log into one of the servers and download the installer script as with the following command:

```
wget https://raw.githubusercontent.com/contiv/demo/master/net/net_demo_installer
```

If you are behind a proxy remember to set the `https_proxy` environment variable.

### Step 2: Set up cfg.yml.
Create the configuration file and provide the servers' networking information.
A sample configuration file can be found here: [sample_cfg.yml](extras/sample_cfg.yml)

#### Information in cfg.yml

##### CONNECTION_INFO

This is a mandatory entry that provides the access information to all server nodes in the setup.

For every server in the setup, provide the IP or DNS and the control and data interfaces:

```
      CONNECTION_INFO:
      <server1-ip-or-dns>:
        control: <interface on which control protocols can interact>
        data: <interface used to send data packets>
      <server2-ip-or-dns>:
        control: <interface on which control protocols can interact>
        data: <interface used to send data packets>
```

### Step 3: Run the installer script.

#### Provide executable privileges:
```
            chmod +x net_demo_installer
```  

#### Run the **net_demo_installer** script.

```
            ./net_demo_installer
```  


**Note**: To restart the services already deployed, run the installer with the -r option. This ensures that the services are restarted in a clean state.

```
            ./net_demo_installer -r
```

- The installer script asks for username and password if passwordless **ssh** was not set during the installation.
- Running the installer with the '-c' option removes any files that are auto-generated by the script.

### Step 4: Use `netctl` commands to demo Contiv Networking.
Follow steps in the Contiv Network section of [docs.contiv.io](http://docs.contiv.io) to explore various features of Contiv Networking.

### Under the Hood
The installer script does the following:  
- Performs preliminary checks to verify that the supported version of OS is installed on the servers.  
- Verifies access to the servers.  
- Creates the ansible inventory file.  
- Establishes variables necessary to provision the servers in the appropriate mode.  
- Runs the ansible playbook which installs packages and brings up the services.  

### Troubleshooting
Current limitations of the script include the following:  
- The installer script is assumed to run from one of the server nodes in the cluster. This approach ensures that the required packages are installed only on the necessary nodes.  
- Connections to the servers are assumed to be on the default **ssh** port. The default username is the local hostname.  

The script generates many files for bookkeeping during the installation procedure.
These files can be found under the `.gen` folder in your installer directory.
If you need to remove these files and start from a clean slate, use could use the following command:

```
            ./net_demo_installer -c
```

This command lists the files to be removed and prompts you for confirmation to proceed.

If you find any other issues or have suggestions for improvement, please feel free to suggest or contribute.
